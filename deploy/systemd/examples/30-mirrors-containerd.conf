## Containerd Mirroring Configuration
## Install this file to /etc/systemd/system/harbor-satellite.service.d/30-mirrors-containerd.conf
## to enable containerd registry mirroring
##
## PREREQUISITE: Install 20-cri-mirroring.conf first for required privileges
## After installing: sudo systemctl daemon-reload
##
## This configures containerd to mirror docker.io and quay.io through the local Zot registry
## Customize the --mirrors flag to match your registry requirements

[Service]
# Override ExecStart to add --mirrors flag
# Note: Must clear ExecStart first (empty ExecStart= line), then set new value
ExecStart=
ExecStart=/opt/harbor-satellite/satellite --mirrors=containerd:docker.io,quay.io
