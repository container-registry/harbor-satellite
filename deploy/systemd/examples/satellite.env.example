## Harbor Satellite Environment Configuration
## Copy this file to /etc/harbor-satellite/satellite.env and customize

## REQUIRED: Ground Control URL
## The URL of the Harbor Satellite Ground Control server
GROUND_CONTROL_URL=https://ground-control.example.com:8080

## REQUIRED (unless SPIFFE enabled): Satellite Token
## Authentication token for this satellite instance
## Leave empty if using SPIFFE authentication
TOKEN=your-satellite-token-here

## Optional: Use insecure HTTP connections (development only)
## Set to 'true' to disable TLS verification for registry connections
## Default: false (use HTTPS with TLS verification)
# USE_UNSECURE=false

## Optional: Enable JSON logging
## Set to 'false' for human-readable console logging
## Default: true
# JSON_LOGGING=true

## SPIFFE/SPIRE Authentication Configuration
## Enable these settings to use SPIFFE-based zero-trust authentication
## instead of token-based auth

## Enable SPIFFE authentication
## Set to 'true' to use SPIFFE Workload API for mTLS authentication
## When enabled, TOKEN is not required
# SPIFFE_ENABLED=false

## SPIFFE Workload API endpoint socket
## Path to the SPIRE agent socket
## Default: unix:///run/spire/sockets/agent.sock
# SPIFFE_ENDPOINT_SOCKET=unix:///run/spire/sockets/agent.sock

## Expected SPIFFE ID of Ground Control server
## Used to verify the identity of the Ground Control server
## Example: spiffe://harbor-satellite.local/gc/main
# SPIFFE_EXPECTED_SERVER_ID=spiffe://your-trust-domain/ground-control

## NOTE: CRI Mirroring Configuration
## The --mirrors flag is NOT supported via environment variables
## To enable container runtime mirroring:
## 1. Install the 20-cri-mirroring.conf drop-in (see README)
## 2. Create a 30-mirrors.conf drop-in to override ExecStart with --mirrors flags
## Example: ExecStart=/opt/harbor-satellite/satellite --mirrors=containerd:docker.io,quay.io

## Additional Runtime Configuration
## The following settings are managed in config.json after first run:
## - State replication interval
## - Registration interval (heartbeat)
## - Zot registry configuration (port, storage, logging)
## - Log level
## - TLS certificates
##
## See config.example.json for runtime configuration options
